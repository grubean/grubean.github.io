:root {
    /* 亮色模式变量 */
    --bg-color: #f2f2f7; /* iOS 设置界面背景灰 */
    --card-bg: #ffffff;
    --text-primary: #1c1c1e;
    --text-secondary: #8e8e93;
    --accent-color: #007aff;
    --glass-border: rgba(255, 255, 255, 0.4);
    --glass-bg: linear-gradient(145deg, rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.2));
    --shadow-soft: 0 8px 30px rgba(0, 0, 0, 0.08);
}

[data-theme="dark"] {
    /* 深色模式变量 */
    --bg-color: #000000;
    --card-bg: #1c1c1e;
    --text-primary: #f2f2f7;
    --text-secondary: #8e8e93;
    --accent-color: #0a84ff;
    --glass-border: rgba(255, 255, 255, 0.15);
    --glass-bg: linear-gradient(145deg, rgba(40, 40, 40, 0.7), rgba(20, 20, 20, 0.4));
    --shadow-soft: 0 8px 30px rgba(0, 0, 0, 0.5);
}

body {
    margin: 0;
    padding: 0;
    font-family: -apple-system, "SF Pro Text", "Helvetica Neue", sans-serif;
    color: var(--text-primary);
    background-color: var(--bg-color); /* 兜底背景 */
    -webkit-font-smoothing: antialiased;
}

a { text-decoration: none; color: inherit; transition: 0.2s; }

/* =========================================
   1. 核心分层逻辑 (The Parallax Magic)
   ========================================= */

/* 这就是那个不动的壁纸层 */
.fixed-wallpaper {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100vh;
    z-index: -1; /* 永远在最后 */
    background-image: url('https://bing.biturl.top/?resolution=1920&format=image');
    background-size: cover;
    background-position: center;
}

/* 这是一个透明的占位符，用来把内容挤下去，露出壁纸 */
.hero-spacer {
    height: 100vh;
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: column;
}

/* 锁屏文字 */
.hero-text {
    text-align: center;
    color: white;
    text-shadow: 0 2px 10px rgba(0,0,0,0.3);
}
.hero-text h1 { font-size: 5rem; font-weight: 700; margin: 0; letter-spacing: -2px; }
.hero-text p { font-size: 1.5rem; opacity: 0.9; margin-top: 10px; font-weight: 300;}

/* 真正的内容层 - 像一张纸一样盖上来 */
.content-layer {
    background: var(--bg-color);
    min-height: 100vh;
    position: relative;
    z-index: 10;
    border-radius: 40px 40px 0 0; /* 顶部的超大圆角 */
    box-shadow: 0 -20px 50px rgba(0,0,0,0.3); /* 顶部的阴影，产生悬浮感 */
    padding: 60px 20px;
    margin-top: -20px; /* 稍微盖住一点点，防止缝隙 */
}

/* =========================================
   2. 卡片与列表 (Card Grid)
   ========================================= */
.container { max-width: 900px; margin: 0 auto; }

.post-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(340px, 1fr));
    gap: 40px;
}

.post-card {
    background: var(--card-bg);
    border-radius: 24px;
    overflow: hidden;
    box-shadow: var(--shadow-soft);
    transition: transform 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
    display: flex;
    flex-direction: column;
}
.post-card:hover { transform: translateY(-10px) scale(1.02); }

/* 图片限制逻辑 */
.post-card-img-box {
    width: 100%;
    height: 240px; /* 【关键】固定高度 */
    overflow: hidden;
    background: #e5e5ea;
}
.post-card-img-box img {
    width: 100%;
    height: 100%;
    object-fit: cover; /* 【关键】裁剪多余部分，填满盒子 */
    transition: transform 0.5s;
}
.post-card:hover .post-card-img-box img { transform: scale(1.08); }

.post-card-body { padding: 25px; }

.post-date {
    font-size: 0.8rem;
    color: var(--text-secondary);
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 1px;
    margin-bottom: 8px;
    display: block;
}
.post-title {
    font-size: 1.4rem;
    font-weight: 700;
    margin: 0;
    line-height: 1.3;
    color: var(--text-primary);
}

/* =========================================
   3. iOS 26 玻璃按钮 (High-End Buttons)
   ========================================= */
.glass-btn {
    display: inline-flex;
    align-items: center;
    gap: 10px;
    background: var(--glass-bg); /* 渐变玻璃 */
    backdrop-filter: blur(25px) saturate(180%); /* 强力模糊 */
    -webkit-backdrop-filter: blur(25px) saturate(180%);
    padding: 12px 24px;
    border-radius: 100px; /* 胶囊 */
    border: 1px solid var(--glass-border); /* 高光边框 */
    box-shadow: 0 4px 15px rgba(0,0,0,0.1); /* 内部折射感 */
    color: var(--text-primary);
    font-weight: 600;
    font-size: 0.95rem;
    cursor: pointer;
    transition: all 0.3s ease;
    z-index: 100;
}
.glass-btn:hover {
    transform: scale(1.05);
    box-shadow: 0 8px 25px rgba(0,0,0,0.15);
    background: var(--card-bg); /* 悬浮时稍微变实一点 */
}

/* 定位 */
.nav-fixed { position: fixed; top: 24px; left: 24px; z-index: 200; }
.theme-fixed { position: fixed; top: 24px; right: 24px; z-index: 200; }


/* =========================================
   4. Markdown 深度优化 (Typography)
   ========================================= */
.markdown-body {
    font-size: 1.15rem;
    line-height: 1.8;
    color: var(--text-primary);
    padding: 20px;
}

/* 超大圆角图片 */
.markdown-body img {
    border-radius: 24px; /* 【关键】更圆的角 */
    box-shadow: var(--shadow-soft);
    display: block;
    margin: 40px auto;
    max-width: 100%;
}

/* 标题优化 */
.markdown-body h1, .markdown-body h2, .markdown-body h3 {
    margin-top: 2em;
    margin-bottom: 0.8em;
    font-weight: 700;
    letter-spacing: -0.5px;
}
.markdown-body h1 { font-size: 2.5rem; border-bottom: 1px solid rgba(128,128,128,0.2); padding-bottom: 15px;}

/* 引用块优化 */
.markdown-body blockquote {
    background: rgba(128, 128, 128, 0.08);
    border-left: none; /* 去掉传统的线 */
    border-radius: 16px;
    padding: 20px 30px;
    margin: 30px 0;
    font-style: italic;
    color: var(--text-secondary);
    position: relative;
}
/* 给引用块加个装饰引号 */
.markdown-body blockquote::before {
    content: "“";
    font-size: 3rem;
    position: absolute;
    top: -10px;
    left: 10px;
    color: var(--accent-color);
    opacity: 0.3;
}

/* 表格优化 */
.markdown-body table {
    width: 100%;
    border-collapse: separate;
    border-spacing: 0;
    border-radius: 16px;
    overflow: hidden;
    margin: 30px 0;
    border: 1px solid rgba(128,128,128, 0.15);
}
.markdown-body th, .markdown-body td {
    padding: 15px 20px;
    border-bottom: 1px solid rgba(128,128,128, 0.1);
}
.markdown-body th { background: rgba(128,128,128, 0.05); font-weight: 600; text-align: left; }
.markdown-body tr:last-child td { border-bottom: none; }