/* =========================================
   全局变量更新：增加透明度
   ========================================= */
:root {
    /* 核心改动：背景色改为 RGBA 模式，0.85 表示 85% 不透明度 */
    --bg-color: rgba(242, 242, 247, 0.85);
    --card-bg: rgba(255, 255, 255, 0.9); /* 卡片也稍微透一点 */
    --text-primary: #1d1d1f;
    --text-secondary: #86868b;
    --accent-color: #007aff;
    --glass-bg: rgba(255, 255, 255, 0.4);
    --glass-border: rgba(255, 255, 255, 0.5);
    --glass-blur: blur(20px);
    --code-bg: #282c34;
}

[data-theme="dark"] {
    /* 核心改动：暗黑模式也对应调整为半透明 */
    --bg-color: rgba(28, 28, 30, 0.85);
    --card-bg: rgba(44, 44, 46, 0.9);
    --text-primary: #f5f5f7;
    --text-secondary: #a1a1a6;
    --accent-color: #0a84ff;
    --glass-bg: rgba(40, 40, 40, 0.5);
    --glass-border: rgba(255, 255, 255, 0.15);
    --code-bg: #000000;
}

/* ... body 等通用设置保持不变 ... */

/* =========================================
   1. 布局：视差堆叠 (Parallax Stack)
   ========================================= */

/* 壁纸层：现在它是固定的背景板 */
.wallpaper-section {
    position: fixed;  /* 【关键】固定定位，不随滚动条移动 */
    top: 0;
    left: 0;
    z-index: 0;       /* 层级最低，在最底下 */
    height: 100vh;
    width: 100%;
    /* 移除原来的 border-radius，作为背景板铺满更好看，或者保留也行，看你喜好 */
    border-radius: 0;

    background-image: url('https://bing.biturl.top/?resolution=1920&format=image');
    background-size: cover;
    background-position: center;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
}

/* 内容层：默认样式 */
.content-section {
    position: relative; /* 相对定位，为了压住 fixed 的壁纸 */
    z-index: 1;         /* 层级比壁纸高 */
    background: var(--bg-color); /* 调用我们上面改过的半透明背景 */

    /* 增加磨砂玻璃效果，让透出来的壁纸模糊一点，提升文字可读性 */
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);

    min-height: 100vh;
    padding: 60px 20px;
    transition: background 0.3s; /* 主题切换时的平滑过渡 */
}

/* 【关键逻辑】只针对主页的布局调整
   这个选择器的意思是：只有紧跟在 wallpaper-section 后面的 content-section 才生效
   这样不会影响你的文章详情页
*/
.wallpaper-section + .content-section {
    margin-top: 100vh; /* 把内容层顶到视口下方，漏出完整的壁纸 */
    border-radius: 40px 40px 0 0; /* 顶部大圆角，像抽屉一样拉上来 */
    box-shadow: 0 -10px 40px rgba(0,0,0,0.1); /* 顶部阴影，增加层次感 */
    border-top: 1px solid var(--glass-border); /* 顶部加一道微弱的高光边框 */
}

/* ... 之前的卡片样式 ... */

/* =========================================
   2. 卡片与列数调整 (Grid System)
   ========================================= */
.container { max-width: 1000px; margin: 0 auto; } /* 稍微加宽一点 container 以容纳3列 */

.post-grid {
    display: grid;
    gap: 25px;
    /* 默认（手机端）：强制单列 */
    grid-template-columns: 1fr;
}

/* 电脑端（大于 768px）：强制 3 列 */
@media (min-width: 768px) {
    .post-grid {
        grid-template-columns: repeat(3, 1fr);
    }
}